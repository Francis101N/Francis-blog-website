<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MyBlog | Login & Signup</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <style>
    html { scroll-behavior: smooth; }
    .fade-in { animation: fadeIn 2s ease-in-out; }
    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .tab-active {
      background-color: #4f46e5;
      color: white;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">

  <!-- Navbar -->
  <%- include('partials/header.ejs') %>

  <!-- Auth Section -->
  <section class="flex items-center justify-center min-h-screen bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 p-6">
    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-3xl p-8 fade-in" data-aos="zoom-in">
      <!-- Tabs -->
      <div class="flex justify-center mb-8">
        <button id="loginTab" class="px-6 py-2 font-semibold rounded-l-lg border tab-active">Login</button>
        <button id="signupTab" class="px-6 py-2 font-semibold rounded-r-lg border">Sign Up</button>
      </div>

      <!-- Login Form -->
      <form id="loginForm" class="space-y-6" method="post" action="login">
        <h2 class="text-2xl font-bold text-center text-gray-800">Welcome Back ðŸ‘‹</h2>
         <%- include('partials/messages.ejs') %>
        <input type="email" placeholder="Email Address" name="email" class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
        <input type="password" placeholder="Password" name="password" class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
        <button class="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition">Login</button>
        <p class="text-sm text-center text-gray-600">Donâ€™t have an account? <span id="switchToSignup" class="text-indigo-600 hover:underline cursor-pointer">Sign up</span></p>
      </form>

      <!-- Signup Form -->
      <form id="signupForm" class="space-y-6 hidden" method="post" action="signup" enctype="multipart/form-data" >
        <h2 class="text-2xl font-bold text-center text-gray-800">Join MyBlog ðŸš€</h2>
        <input type="text" placeholder="Full Name" name="names" class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
        <input type="email" placeholder="Email Address" name="email" class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
        <input type="file" name="profile_photo" class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
        <span><small class="text-red-500">Upload Profile Photo</small></span>
        <input type="password" placeholder="Password" name="password" class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
        <input type="password" placeholder="Confirm Password" name="confirm_pass" class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
        <button class="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition">Sign Up</button>
        <p class="text-sm text-center text-gray-600">Already have an account? <span id="switchToLogin" class="text-indigo-600 hover:underline cursor-pointer">Login</span></p>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-900 text-gray-300 py-8 text-center">
    <p class="text-sm">Â© 2025 MyBlog. All rights reserved.</p>
  </footer>

  <script>
    AOS.init({ duration: 1000, once: true });

          // Mobile toggle
     const btn = document.getElementById("menu-btn");
     const menu = document.getElementById("menu");

     btn.addEventListener("click", () => {
     menu.classList.toggle("hidden");
     });


    const loginTab = document.getElementById("loginTab");
    const signupTab = document.getElementById("signupTab");
    const loginForm = document.getElementById("loginForm");
    const signupForm = document.getElementById("signupForm");
    const switchToSignup = document.getElementById("switchToSignup");
    const switchToLogin = document.getElementById("switchToLogin");

    loginTab.addEventListener("click", () => {
      loginForm.classList.remove("hidden");
      signupForm.classList.add("hidden");
      loginTab.classList.add("tab-active");
      signupTab.classList.remove("tab-active");
    });

    signupTab.addEventListener("click", () => {
      signupForm.classList.remove("hidden");
      loginForm.classList.add("hidden");
      signupTab.classList.add("tab-active");
      loginTab.classList.remove("tab-active");
    });

    switchToSignup.addEventListener("click", () => signupTab.click());
    switchToLogin.addEventListener("click", () => loginTab.click());

    setTimeout(() => {
    const msg = document.getElementById("flash-message");
    if (msg) msg.remove();
  }, 10000);

  </script>
</body>
</html>
